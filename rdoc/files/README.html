<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Wed Dec 02 12:49:41 -0600 2009</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
AttrHidden
</p>
<h6>=====</h6>
<p>
While attr_accessible and attr_protected can prevent changes to attributes
during mass assignment they do not address the need to prevent some
attributes not being exposed to the requester. With html requests this is
usally not a problem as the page is written to not include the private
data. However, with the increasing use of REST and clients consuming xml
and json data, the need to be able to easily protect this data increases.
</p>
<p>
This plugin addresses this need to hide outgoing attributes when records
are being serialized for REST responses. Traditionally this has been done
in the controller on an individual method basis. This is time consuming and
increases the likelyhood that mistakes will be made. Instead of relying on
the controller to add protection, this plugin takes its cues from
attr_protected and attr_accessible and moves the responsibility down into
the model itself.
</p>
<p>
Methods can also be included in the serialization by using serialize_method
</p>
<p>
Additionally, these restrictions and included methods will continue to be
maintained even during associational includes during serialization.
</p>
<p>
Example
</p>
<h6>=</h6>
<p>
Consider a model that yields the following with to_xml
</p>
<p>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;item&gt;
</p>
<pre>
  &lt;id type=&quot;integer&quot;&gt;298486374&lt;/id&gt;
  &lt;name&gt;Shiny Item&lt;/name&gt;
  &lt;internal-comment&gt;Bob is Bald&lt;/internal-comment&gt;
  &lt;internal-rating type=&quot;integer&quot;&gt;7&lt;/internal-rating&gt;
</pre>
<p>
&lt;/item&gt;
</p>
<p>
By adding either:
</p>
<pre>
  attr_hidden :internal-comment, :internal-rating
</pre>
<p>
or
</p>
<pre>
  attr_visible :id, :name
</pre>
<p>
to the model the to_xml would render
</p>
<p>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;item&gt;
</p>
<pre>
  &lt;id type=&quot;integer&quot;&gt;298486374&lt;/id&gt;
  &lt;name&gt;Shiny Item&lt;/name&gt;
</pre>
<p>
&lt;/item&gt;
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>